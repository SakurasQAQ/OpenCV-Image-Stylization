<!DOCTYPE html>
<html>
<head>
    <title>Image Click Position</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" type="text/css">
    <script src="{{ url_for('static', filename='main.js') }}"></script>
    <style>

    </style>
</head>
<body>
<div class="container">
    <div class="sidebar card">
        <h2>Control Panel</h2>
        <form method="post" enctype="multipart/form-data">
            <div class="file-input-wrapper">
                <label for="file-input">Choose File</label>
                <span id="file-name">No file chosen</span>
                <input id="file-input" type="file" name="file" accept="image/*" required onchange="document.getElementById('file-name').textContent = this.files[0]?.name || 'No file chosen'">
            </div>
            <input type="submit" value="Upload Image">
        </form>

        {% if image_url %}
        <div class="controls">
            <button onclick="setMode('foreground')">Mark Foreground</button>
            <button onclick="setMode('background')">Mark Background</button>
            <button onclick="clearMarkers()">Clear All Marks</button>
            <button onclick="submitPoints()">Submit Annotations</button>
        </div>
        {% endif %}
    </div>

    <div class="main-content card">
        {% if image_url %}
            <h2>Image Annotation</h2>
            <div class="image-container" id="image-container">
                <img id="uploaded-image" src="{{ image_url }}" alt="Image">
                <div id="marker-container"></div>
            </div>
            <p id="coords">Click the image to add a point</p>
        {% endif %}

        <h3>Segmentation Results:</h3>
        <div id="resultContainer" class="result-grid"></div>
    </div>
</div>
</body>
</html>
